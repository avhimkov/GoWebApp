<!--operator.html-->

<!--Embed the header.html template at this location-->
{{ template "header.html" .}}

<p></p>
<div class="card">
<h3 class="card-header">Регистрация услуги</h3>
    <div class="card-body">
        <!--If there's an error, display the error-->
        {{ if .ErrorTitle}}
            <p class="bg-danger">
            {{.ErrorTitle}}: {{.ErrorMessage}}
            </p>
        {{end}}
        <div class="col-sm-12">
            <form class="form" action="/operator" method="POST">
                <div class="form-row">
                    <div class="col">
                        <label class="sr-only" for="inlineFormInput">Имя заявителя</label>
                        <input type="text" name="name" class="form-control mr-sm-2 mb-2 mb-sm-0" id="name" placeholder="Имя посетителя">
                    </div>
                    <p></p>
                    <div class="col">
                        <label class="sr-only" for="inlineFormInput">Название услуги</label>
                        <select name="select" class="form-control mr-sm-2 mb-2 mb-sm-0"> 
                            <option value="value1">Услуга 1</option>
                            <option value="value1">Услуга 2</option>
                            <option value="value1">Услуга 3</option>
                        </select>
                    </div>
                    <p></p>
                    <div class="col">
                        <label class="sr-only" for="inlineFormInput">Название под услуги</label>
                        <select name="select" class="form-control mr-sm-2 mb-2 mb-sm-0"> 
                            <option value="value1">Услуга 1</option>
                            <option value="value1">Услуга 2</option>
                            <option value="value1">Услуга 3</option>
                        </select>
                    </div>
                    <!-- <input type="text" name="text" class="form-control" id="nameservice" placeholder="Название услуги"> -->
                    <!-- <input type="text" name="nameservice" class="form-control" id="nameservice" placeholder="Название услуги"> -->
                </div>
                <p></p>
                <div class="form-row">
                    <div class="col">
                        <label class="sr-only" for="inlineFormInput">Дата</label>
                        <!-- <input id="date" type="date"> -->
                        <input type="datetime-local" name="datetime" class="form-control" id="date" placeholder="Дата">
                    </div>
                    <p></p>
                    <div class="col">
                        <label class="sr-only" for="inlineFormInput">Адрес</label>
                        <input type="text" name="text" class="form-control" id="text" placeholder="Адрес">
                    </div>
                    <p></p>
                    <div class="col">
                        <label class="sr-only" for="inlineFormInput">Телефон</label>
                        <input type="text" id="phone" class="form-control" >
                            <script>
                                $(function(){
                                //Использование параметра completed
                                    $("#phone").mask("8(999) 999-9999");
                                });
                            </script>
                    </div>
                </div>
                <p></p>
                <button type="submit" class="btn btn-primary">Сохранить</button>
            </form>
        </div>
    </div>
</div>
 
<p></p>
<div class="card">
    <h3 class="card-header panel-success white-text">Список услуги</h3>
    <div class="card-body">
        <table id="table" 
            data-toggle="table"
            data-search="true"
            data-filter-control="true" 
            data-show-export="true"
            data-click-to-select="true">
            <thead>
                <tr>
                    <th data-field="state" data-checkbox="true"></th>
                    <th data-sortable="true">№</th>
                    <!-- <th data-sortable="true" data-field="User">Оператор</th> -->
                    <th data-sortable="true" data-filter-control="input" data-field="Name">Имя заявитель</th>
                    <th data-sortable="true" data-filter-control="input" data-field="NameService">Название услуги</th>
                    <th data-sortable="true" data-filter-control="input" data-field="UnderNameService">Под услуга</th>
                    <th data-sortable="true" data-filter-control="input" data-field="Date">Дата</th>
                    <th data-sortable="true" data-filter-control="input" data-field="Number">Номер услуги</th>
                    <th data-sortable="true" data-filter-control="input" data-field="Phone">Телефон</th>
                    <th data-field="Edit">Редактировать</th>
                    <th data-field="Edit">Удаление</th>
                </tr>
            </thead>
            <tbody>
                {{range $i, $e := .person}}
                <tr>
                    <td class="bs-checkbox "><input data-index="{{$i}}" name="btSelectItem" type="checkbox"></td>
                    <td>{{$i}}</td>
                    <!-- <td>{{$e.User}}</td> -->
                    <td>{{$e.Name}}</td>
                    <td>{{$e.NameService}}</td>
                    <td>{{$e.NameService}}</td>
                    <td>{{$e.Date}}</td>
                    <td>{{$e.Number}}</td>
                    <td>{{$e.Phone}}</td>
                    <td>
                        <form action="/edit/{{$e.ID}}" method="GET">
                            <input value="edit"  class="btn btn-primary btn-rounded btn-sm my-0" type="submit" />
                        </form>
                    </td>
                    <td>
                        <form action="/removeval/{{$e.ID}}" method="GET">
                            <input value="removeval"  class="btn btn-primary btn-rounded btn-sm my-0" type="submit" />
                        </form>
                    </td>
                </tr>
                {{end}}
            </tbody>
        </table>
    </div>
</div>

<!--Embed the footer.html template at this location-->
{{ template "footer.html" .}}